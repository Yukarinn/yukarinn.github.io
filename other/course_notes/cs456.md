## Jan 22

### Application Protocol

- message format & type
  - HTTP request
  - HTTP response
- event handling
- PORT #

### HTTP - Hyper Text Transfer Protocol

-> Port # = 80

Assume Client/Server model

Server name ---DNS---> IP address  
HTTP server listens on port 80

Client initiate connection

- application create a socket to transport layer and uses TCP for reliability
- delivers in-order packets
- port number has to be defined by the application layer protocol

Server's port number has to be 80 because it should be well known

- implies client can use any port number

### HTTP Request

```
GET (URL that is requesting) (URL - uniform resource locater)
header line - xyz.com/index.html (object URL)
Host: www.xyz.com
(can have many header lines)
------
Entity body: DATA
```

### HTTP response

```
HTTP/ 200(status code)  - (status line)
Date of retrival
Content length: number of bytes in the entity
Content type: HTML/Text etc.
------
Entity body: DATA
```

#### HTTP Status codes:

- 1xx 2xx successful
- 3xx redirection
- 4xx client error - error in the request
- 5xx server error

### Client

- initiates TCP connection on port number 80  
  (TCP: 3-way handshake)

### RTT - round trip time

for small requests (negligible transmission delay)  
estimation of propagation (speed of the medium)

- queuing
- processing delay

### TCP connection - handshake

(TCP connection initiated by client)

1. h1
2. h2
3. h3 + HTTP request
4. HTTP response (+ transmission delay)

(connection closed by server)

2RTT + transmission delay (L/R)

Non-persistent TCP connection  
need to restart connection for each object


## Jan 27
Quiz Wednesday - everything on chapter 1,  HTTP, persistent & non-persistent

## HTTP/1.0
- non-persistent, need to restart the connection for ever request sent
- cannot make a request if there's a pending request
- ASCII format

### Improved HTTP/1.0
- can establish parallel connections because each connection is identified by `IP Address + port number`
- HTTP/1.0 with 10 parallel connections

### HTTP/1.1 Persistent
- 1 RTT - TCP connection establishment
- 31 objects -> 31 RTTS + 1 RTT for TCP establishment

### HTTP pipelining
- requests are sent on a single TCP connection without waiting for responses

### HTTP/2.0
- Binary format (Huffman Codes)
- persistent
- parallel connections
- pipelining
- push promise, priority processing

### HTTP/2.0 Frame

|Frame (encoded in binary):  
---------
|HEADER - HTTP Request  
|DATA - HTTP request header

|Frame Type:
---------
|HEADER - header / data

### TCP Connection
- Stream 1
  - Frame 1 (type)
  - Frame 2 (type)
- Stream 2
- ...

## HTTP Message Format
The first line of an HTTP request message is called the request line;   
the subsequent lines are called the header lines.
The request line has three fields: the method field, the URL field, and the HTTP version field.  
The method field can take on several different values, including GET, POST, HEAD, PUT, and DELETE.
